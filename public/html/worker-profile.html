<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worker Profile</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        beige: {
                            50: '#faf6f0',
                            100: '#f4ecdf',
                            200: '#e8d8c0',
                            300: '#dcc5a1',
                            400: '#d0b182',
                            500: '#c49e63',
                            600: '#9d7e4f',
                            700: '#765f3b',
                            800: '#4f3f27',
                            900: '#282013',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .profile-pic {
            transition: all 0.3s ease;
        }
        .profile-pic:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        .skill-tag {
            transition: all 0.2s ease;
        }
        .skill-tag:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        #uploadResumeModal, #editProfileModal {
            transition: all 0.3s ease-out;
        }
    </style>
</head>
<body class="bg-beige-50 min-h-screen">
    <!-- Header -->
    <header class="bg-beige-500 text-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold">Worker Profile</h1>
            <div class="flex space-x-4">
                <button class="bg-beige-700 hover:bg-beige-800 px-4 py-2 rounded-lg flex items-center">
                    <i data-feather="bell" class="mr-2"></i>
                    Notifications
                </button>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8">
        <!-- Profile Section -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8" data-aos="fade-up">
            <div class="flex flex-col md:flex-row items-center md:items-start gap-6">
                <!-- Profile Picture -->
                <div class="relative group">
                    <img src="http://static.photos/people/320x240/42" alt="Profile Picture" 
                         class="w-32 h-32 rounded-full object-cover border-4 border-beige-300 profile-pic">
                    <button id="changeProfilePicBtn" class="absolute bottom-0 right-0 bg-beige-500 text-white rounded-full p-2 shadow-md hover:bg-beige-600 transition">
                        <i data-feather="edit" class="w-4 h-4"></i>
                    </button>
                </div>
                
                <!-- Profile Info -->
                <div class="flex-1">
                    <div class="flex justify-between items-start">
                        <div>
                            <h2 class="text-2xl font-bold text-beige-900">Sarah Johnson</h2>
                            <p class="text-beige-600 mb-2">Worker</p>
                        </div>
                        <button id="editProfileBtn" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-4 py-2 rounded-lg flex items-center">
                            <i data-feather="edit-2" class="mr-2"></i>
                            Edit Profile
                        </button>
                    </div>
                    
                    <!-- Rating -->
                    <div class="flex items-center mb-4">
                        <div class="flex">
                            <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-5 h-5"></i>
                            <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-5 h-5"></i>
                            <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-5 h-5"></i>
                            <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-5 h-5"></i>
                            <i data-feather="star" class="text-beige-300 w-5 h-5"></i>
                        </div>
                        <span class="ml-2 text-beige-600">4.0 (12 reviews)</span>
                    </div>
                    
                    <!-- Personal Info -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="text-beige-500 text-sm">Email</label>
                            <p class="text-beige-800">sarah.johnson@example.com</p>
                        </div>
                        <div>
                            <label class="text-beige-500 text-sm">Phone Number</label>
                            <p class="text-beige-800">(555) 123-4567</p>
                        </div>
                        <div>
                            <label class="text-beige-500 text-sm">Location</label>
                            <p class="text-beige-800">New York, USA</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Work Details Section -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8" data-aos="fade-up" data-aos-delay="100">
            <h2 class="text-xl font-bold text-beige-800 mb-4">Work Details</h2>
            
            <!-- Skills -->
            <div class="mb-6">
                <label class="text-beige-500 text-sm mb-2 block">Skills</label>
                <div class="flex flex-wrap gap-2">
                    <span class="bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag">Babysitting</span>
                    <span class="bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag">Cleaning</span>
                    <span class="bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag">Tuition</span>
                    <span class="bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag">Elderly Care</span>
                    <span class="bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag">Pet Sitting</span>
                </div>
            </div>
            
            <!-- Availability & Pay -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <label class="text-beige-500 text-sm mb-2 block">Availability</label>
                    <p class="text-beige-800">Part-time (20-30 hours/week)</p>
                </div>
                <div>
                    <label class="text-beige-500 text-sm mb-2 block">Expected Pay/Hour</label>
                    <p class="text-beige-800">$18 - $25</p>
                </div>
            </div>
        </section>

        <!-- About Me Section -->
        <section class="bg-white rounded-xl shadow-md p-6 mb-8" data-aos="fade-up" data-aos-delay="150">
            <h2 class="text-xl font-bold text-beige-800 mb-4">About Me</h2>
            <p class="text-beige-700">
                Experienced caregiver with over 5 years of professional experience in babysitting, elderly care, and housekeeping. 
                I take pride in providing compassionate and reliable services to families in need. 
                Certified in First Aid and CPR, with excellent references available upon request.
            </p>
        </section>

        <!-- Applications & Reviews Section -->
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
            <!-- Applications -->
            <section class="bg-white rounded-xl shadow-md p-6" data-aos="fade-up" data-aos-delay="200">
                <h2 class="text-xl font-bold text-beige-800 mb-4">Jobs Applied For</h2>
                <div class="space-y-4">
                    <div class="border-b border-beige-200 pb-4">
                        <h3 class="font-medium text-beige-800">Babysitter Needed (Weekdays)</h3>
                        <p class="text-sm text-beige-600 mb-2">Posted by: Johnson Family</p>
                        <div class="flex justify-between items-center">
                            <span class="px-2 py-1 rounded text-xs bg-yellow-100 text-yellow-800">Pending</span>
                            <span class="text-sm text-beige-600">Applied: 2 days ago</span>
                        </div>
                    </div>
                    <div class="border-b border-beige-200 pb-4">
                        <h3 class="font-medium text-beige-800">House Cleaning</h3>
                        <p class="text-sm text-beige-600 mb-2">Posted by: Smith Residence</p>
                        <div class="flex justify-between items-center">
                            <span class="px-2 py-1 rounded text-xs bg-green-100 text-green-800">Accepted</span>
                            <span class="text-sm text-beige-600">Applied: 1 week ago</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Reviews -->
            <section class="bg-white rounded-xl shadow-md p-6" data-aos="fade-up" data-aos-delay="250">
                <h2 class="text-xl font-bold text-beige-800 mb-4">Reviews</h2>
                <div class="space-y-4">
                    <div class="border-b border-beige-200 pb-4">
                        <div class="flex items-center mb-1">
                            <div class="flex mr-2">
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-beige-300 w-4 h-4"></i>
                            </div>
                            <span class="text-sm font-medium text-beige-600">Lisa Thompson</span>
                        </div>
                        <p class="text-sm text-beige-700">Sarah was wonderful with our kids. Very reliable and patient!</p>
                    </div>
                    <div class="border-b border-beige-200 pb-4">
                        <div class="flex items-center mb-1">
                            <div class="flex mr-2">
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                                <i data-feather="star" class="text-yellow-400 fill-yellow-400 w-4 h-4"></i>
                            </div>
                            <span class="text-sm font-medium text-beige-600">Michael Brown</span>
                        </div>
                        <p class="text-sm text-beige-700">Exceptional cleaning service. Our home has never looked better!</p>
                    </div>
                </div>
            </section>
        </div>

        <!-- Actions Section -->
        <section class="bg-white rounded-xl shadow-md p-6" data-aos="fade-up" data-aos-delay="300">
            <h2 class="text-xl font-bold text-beige-800 mb-6">Actions</h2>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                <button id="uploadResumeBtn" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-6 py-3 rounded-lg flex flex-col items-center justify-center transition">
                    <i data-feather="upload" class="w-6 h-6 mb-2"></i>
                    <span>Upload Resume/Certificates</span>
                </button>
                <button id="viewResumeBtn" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-6 py-3 rounded-lg flex flex-col items-center justify-center transition">
                    <i data-feather="file-text" class="w-6 h-6 mb-2"></i>
                    <span>View Resume</span>
                </button>
                <button id="logoutBtn" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-6 py-3 rounded-lg flex flex-col items-center justify-center transition">
                    <i data-feather="log-out" class="w-6 h-6 mb-2"></i>
                    <span>Logout</span>
                </button>
            </div>
        </section>
    </main>

    <!-- Upload Resume Modal -->
    <div id="uploadResumeModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-md">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-beige-800">Upload Resume</h3>
                <button id="closeUploadModal" class="text-beige-500 hover:text-beige-700">
                    <i data-feather="x"></i>
                </button>
            </div>
            <div class="border-2 border-dashed border-beige-300 rounded-lg p-8 text-center mb-4">
                <i data-feather="upload-cloud" class="w-12 h-12 mx-auto text-beige-500 mb-4"></i>
                <p class="text-beige-600 mb-2">Drag & drop your file here</p>
                <p class="text-sm text-beige-500 mb-4">or</p>
                <input type="file" id="resumeFile" class="hidden" accept=".pdf,.doc,.docx">
                <label for="resumeFile" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-4 py-2 rounded-lg cursor-pointer">
                    Browse Files
                </label>
                <p class="text-xs text-beige-500 mt-3">Supported formats: PDF, DOC, DOCX (Max 5MB)</p>
            </div>
            <div class="flex justify-end space-x-3">
                <button id="cancelUpload" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-4 py-2 rounded-lg">
                    Cancel
                </button>
                <button id="confirmUpload" class="bg-beige-500 hover:bg-beige-600 text-white px-4 py-2 rounded-lg">
                    Upload
                </button>
            </div>
        </div>
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-xl p-6 w-full max-w-2xl max-h-screen overflow-y-auto">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-xl font-bold text-beige-800">Edit Profile</h3>
                <button id="closeEditModal" class="text-beige-500 hover:text-beige-700">
                    <i data-feather="x"></i>
                </button>
            </div>
            
            <form id="profileForm" class="space-y-4">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-beige-600 mb-1">Full Name</label>
                        <input type="text" value="Sarah Johnson" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                    </div>
                    <div>
                        <label class="block text-beige-600 mb-1">Role</label>
                        <input type="text" value="Worker" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                    </div>
                </div>
                
                <div>
                    <label class="block text-beige-600 mb-1">Email</label>
                    <input type="email" value="sarah.johnson@example.com" class="w-full border border-beige-300 rounded-lg px-4 py-2 bg-beige-50 cursor-not-allowed" readonly>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-beige-600 mb-1">Phone Number</label>
                        <input type="tel" value="(555) 123-4567" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                    </div>
                    <div>
                        <label class="block text-beige-600 mb-1">Location</label>
                        <input type="text" value="New York, USA" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                    </div>
                </div>
                
                <div>
                    <label class="block text-beige-600 mb-1">Skills (comma separated)</label>
                    <input type="text" value="Babysitting, Cleaning, Tuition, Elderly Care, Pet Sitting" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label class="block text-beige-600 mb-1">Availability</label>
                        <select class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                            <option>Part-time</option>
                            <option>Full-time</option>
                            <option>Flexible</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-beige-600 mb-1">Expected Pay/Hour ($)</label>
                        <input type="text" value="18-25" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">
                    </div>
                </div>
                
                <div>
                    <label class="block text-beige-600 mb-1">About Me</label>
                    <textarea rows="4" class="w-full border border-beige-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-beige-500">Experienced caregiver with over 5 years of professional experience in babysitting, elderly care, and housekeeping. I take pride in providing compassionate and reliable services to families in need. Certified in First Aid and CPR, with excellent references available upon request.</textarea>
                </div>
                
                <div class="flex justify-end space-x-3 pt-4">
                    <button type="button" id="cancelEdit" class="bg-beige-100 hover:bg-beige-200 text-beige-800 px-4 py-2 rounded-lg">
                        Cancel
                    </button>
                    <button type="submit" class="bg-beige-500 hover:bg-beige-600 text-white px-4 py-2 rounded-lg">
                        Save Changes
                    </button>
                </div>
            </form>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        AOS.init({ duration: 800, easing: 'ease-in-out', once: true });
        feather.replace();

        const uploadResumeModal = document.getElementById('uploadResumeModal');
        const editProfileModal = document.getElementById('editProfileModal');
        const profileForm = document.getElementById('profileForm');

        // ---- Load saved profile data if available ----
        const savedProfile = JSON.parse(localStorage.getItem('workerProfile'));
        if (savedProfile) {
            updateProfileUI(savedProfile);
        }

        // Upload Resume Modal
        document.getElementById('uploadResumeBtn').onclick = () => uploadResumeModal.classList.remove('hidden');
        document.getElementById('closeUploadModal').onclick = () => uploadResumeModal.classList.add('hidden');
        document.getElementById('cancelUpload').onclick = () => uploadResumeModal.classList.add('hidden');
        document.getElementById('confirmUpload').onclick = () => {
            alert('Resume uploaded successfully!');
            uploadResumeModal.classList.add('hidden');
        };

        // Edit Profile Modal
        document.getElementById('editProfileBtn').onclick = () => editProfileModal.classList.remove('hidden');
        document.getElementById('closeEditModal').onclick = () => editProfileModal.classList.add('hidden');
        document.getElementById('cancelEdit').onclick = () => editProfileModal.classList.add('hidden');

        // ---- Save profile changes ----
        profileForm.addEventListener('submit', function(e) {
            e.preventDefault();

            const profileData = {
                name: profileForm.querySelectorAll('input[type="text"]')[0].value,
                role: profileForm.querySelectorAll('input[type="text"]')[1].value,
                email: profileForm.querySelector('input[type="email"]').value,
                phone: profileForm.querySelector('input[type="tel"]').value,
                location: profileForm.querySelectorAll('input[type="text"]')[2].value,
                skills: profileForm.querySelector('input[type="text"][value*="Babysitting"]').value,
                availability: profileForm.querySelector('select').value,
                pay: profileForm.querySelector('input[type="text"][value*="18-25"]').value,
                about: profileForm.querySelector('textarea').value
            };

            // Save to localStorage
            localStorage.setItem('workerProfile', JSON.stringify(profileData));

            // Update UI
            updateProfileUI(profileData);

            alert('Profile updated successfully!');
            editProfileModal.classList.add('hidden');
        });

        // View Resume
        document.getElementById('viewResumeBtn').onclick = () => {
            alert('Opening resume in new tab...');
        };

        // Logout
        document.getElementById('logoutBtn').onclick = () => {
            if(confirm('Are you sure you want to logout?')) {
                localStorage.removeItem('workerProfile'); // clear saved data
                alert('You have been logged out successfully.');
                window.location.href = 'index.html';
            }
        };

        // Change Profile Picture
        document.getElementById('changeProfilePicBtn').onclick = () => {
            alert('Feature to change profile picture would be implemented here.');
        };

        // ---- Function to update UI ----
        function updateProfileUI(data) {
            document.querySelector('h2.text-2xl').innerText = data.name;
            document.querySelector('p.text-beige-600.mb-2').innerText = data.role;
            document.querySelector('div.grid div:nth-child(1) p').innerText = data.email;
            document.querySelector('div.grid div:nth-child(2) p').innerText = data.phone;
            document.querySelector('div.grid div:nth-child(3) p').innerText = data.location;

            // Skills
            const skillContainer = document.querySelector('.flex.flex-wrap.gap-2');
            skillContainer.innerHTML = '';
            data.skills.split(',').forEach(skill => {
                const span = document.createElement('span');
                span.className = "bg-beige-100 text-beige-800 px-3 py-1 rounded-full skill-tag";
                span.innerText = skill.trim();
                skillContainer.appendChild(span);
            });

            // Availability & Pay
            document.querySelector('section[data-aos-delay="100"] p.text-beige-800').innerText = data.availability;
            document.querySelector('section[data-aos-delay="100"] div:nth-child(2) p.text-beige-800').innerText = `$${data.pay}`;

            // About Me
            document.querySelector('section[data-aos-delay="150"] p').innerText = data.about;
        }
    });
</script>

</body>
</html>
